system:diag_handshake

event:send
event:ack
event:timeout

process:Link
clock:1:tx
clock:1:rx
location:Link:idle{initial: : invariant: tx<=10 && rx<=10}
location:Link:pending{invariant: tx<=15 && rx<=15}
location:Link:fail{}
edge:Link:idle:pending:send{provided: tx>=2 : do: tx=0;rx=0}
edge:Link:pending:idle:ack{provided: tx-rx<=3 && tx<=8}
edge:Link:pending:fail:timeout{provided: tx>=12}
